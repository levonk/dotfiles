-- Managed by chezmoi
-- Load lazy.nvim-based config only when Neovim >= 0.8
local has_08 = 0
if vim and vim.fn and vim.fn.has then
  has_08 = vim.fn.has("nvim-0.8")
end

if has_08 == 1 then
  local ok, err = pcall(require, "config.lazy")
  if not ok then
    vim.schedule(function()
      vim.notify("lazy.nvim init failed: " .. tostring(err), vim.log.levels.WARN)
    end)
  end
else
  -- Fallback: do not load lazy.nvim, avoid hard error on older Neovim
  vim.schedule(function()
    vim.notify(
      "Skipping lazy.nvim (requires Neovim >= 0.8). Upgrade Neovim for full config.",
      vim.log.levels.WARN
    )
  end)
end