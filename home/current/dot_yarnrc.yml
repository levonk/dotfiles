---
# ~/.yarnrc.yml

##########################################################################
#####   !!!!! Don't edit directly, this file is in `chezmoi` !!!!!   #####
##########################################################################

# ============================================================================
# General Settings
# ============================================================================

# Specify the Yarn version to use (updated for Yarn v4)
yarnPath: .yarn/releases/yarn-4.0.2.cjs

# Set the npm registry
npmRegistryServer: https://registry.npmjs.org

# Always authenticate with the registry (for private packages)
npmAlwaysAuth: true

# Save exact versions of dependencies
saveExact: true

# ============================================================================
# Cache Settings
# ============================================================================

# Set the cache folder (updated for XDG compliance)
cacheFolder: ${XDG_CACHE_HOME:-~/.cache}/yarn

# Enable global cache for better performance
enableGlobalCache: true

# Compress cache to save disk space
compressionLevel: mixed

# ============================================================================
# Node Linker Settings
# ============================================================================

# Choose the node linker strategy
nodeLinker: node-modules # or pnp

# ============================================================================
# Git Settings
# ============================================================================

# Ignore .gitignore files when installing dependencies
# Useful when some dependency includes files that should not be committed to the repository
# gitIgnorePath: .gitignore

# ============================================================================
# Other Settings
# ============================================================================

# Enable checksum validation for added security
checksumBehavior: strict

# Set the log level (choices: info, warning, error, verbose)
logLevel: warn

# Disallow unknown keys in .yarnrc.yml (for stricter configuration)
enableStrictSettings: true

# ============================================================================
# Plugins
# ============================================================================

# Install useful plugins for modern development
plugins:
  - '@yarnpkg/plugin-interactive-tools'
  - '@yarnpkg/plugin-workspace-tools'
  - '@yarnpkg/plugin-version'

# ============================================================================
# Performance Settings
# ============================================================================

# Enable parallel installs for better performance
enableParallelInstalls: true

# Set network timeout (in milliseconds)
networkTimeout: 60000

# Enable telemetry opt-out for privacy
enableTelemetry: false