// Firefox Developer Edition preferences
// This file is managed by chezmoi

{{- /* Safely access nested settings with defaults */ -}}
{{- $browsers := (get . "browsers") | default (dict) -}}
{{- $ffdev := (get $browsers "firefox_dev") | default (dict) -}}
{{- $settings := (get $ffdev "settings") | default (dict) -}}
{{- $theme := (get $settings "theme") | default "dark" -}}
{{- $newWin := (get $settings "new_window_behavior") | default "tab" -}}
{{- $pwdMgr := (get $settings "password_manager") | default true -}}
{{- $telemetry := (get $settings "telemetry") | default false -}}
{{- $tracking := (get $settings "tracking_protection") | default true -}}

// Theme settings
user_pref("devtools.theme", {{ if eq $theme "dark" }}"dark"{{ else }}"light"{{ end }});
user_pref("browser.theme.content-theme", {{ if eq $theme "dark" }}1{{ else }}0{{ end }});
user_pref("browser.theme.toolbar-theme", {{ if eq $theme "dark" }}1{{ else }}0{{ end }});

// New window behavior
user_pref("browser.link.open_newwindow", {{ if eq $newWin "tab" }}3{{ else }}2{{ end }});
user_pref("browser.link.open_newwindow.restriction", 0);

// Password manager
user_pref("signon.rememberSignons", {{ $pwdMgr }});
user_pref("signon.autofillForms", {{ $pwdMgr }});

// Telemetry and data collection
user_pref("datareporting.healthreport.uploadEnabled", {{ $telemetry }});
user_pref("datareporting.policy.dataSubmissionEnabled", {{ $telemetry }});
user_pref("toolkit.telemetry.enabled", {{ $telemetry }});
user_pref("toolkit.telemetry.unified", {{ $telemetry }});

// Tracking protection
user_pref("privacy.trackingprotection.enabled", {{ $tracking }});
user_pref("privacy.trackingprotection.socialtracking.enabled", {{ $tracking }});

// Developer tools
