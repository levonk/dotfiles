#!/usr/bin/env bash
# Wrapper to suggest ripgrep while preserving legacy grep behavior
# Prints a one-time hint per shell session and invokes system grep

case $- in
  *i*)
    if [[ -z "${DOTFILES_HINT_GREP:-}" ]]; then
      >&2 echo "Hint: Consider using ripgrep: rg PATTERN [PATH ...]"
      >&2 echo "      For extended regex: rg -e PATTERN [PATH ...]"
      export DOTFILES_HINT_GREP=1
    fi
    ;;
  *) ;;
esac

# Bypass shell aliases and call the real grep
real_grep="$(command -v grep 2>/dev/null || true)"
if [[ -z "$real_grep" ]]; then
  real_grep=grep
fi
exec "$real_grep" "$@"
